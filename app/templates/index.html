<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskFlow - Task Management</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif;
            min-height: 100vh;
            display: flex;
            background: #f0f2f5;
            color: #333333;
            position: relative;
            overflow-x: hidden;
        }

        .content {
            position: relative;
            width: 100%;
            flex: 1;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 0 10px;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            color: #1a1a1a;
        }

        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .btn-add {
            background: linear-gradient(135deg, #0099ff 0%, #00ccff 100%);
            color: white;
            padding: 10px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s;
        }

        .btn-add:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 24px rgba(0, 153, 255, 0.4);
        }

        .dashboard-container {
            background: transparent;
            overflow: visible;
        }

        .daily-view {
            padding: 0 10px;
            overflow-x: auto;
        }

        .days-header {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
            min-width: 100%;
        }

        .day-column {
            min-height: 500px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 12px;
            display: flex;
            flex-direction: column;
        }

        .day-header {
            text-align: center;
            margin-bottom: 16px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
        }

        .day-header.day-sun { background: rgba(255, 107, 107, 0.15); }
        .day-header.day-mon { background: rgba(52, 152, 219, 0.15); }
        .day-header.day-tue { background: rgba(155, 89, 182, 0.15); }
        .day-header.day-wed { background: rgba(46, 204, 113, 0.15); }
        .day-header.day-thu { background: rgba(241, 196, 15, 0.15); }
        .day-header.day-fri { background: rgba(230, 126, 34, 0.15); }
        .day-header.day-sat { background: rgba(26, 188, 156, 0.15); }

        .day-name {
            font-size: 12px;
            color: #666666;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .day-date {
            font-size: 24px;
            color: #1a1a1a;
            font-weight: 700;
            margin-top: 6px;
        }

        .tasks-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            flex: 1;
        }

        .task-card {
            padding: 14px;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: none;
            position: relative;
            overflow: hidden;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            font-size: 13px;
        }

        .task-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .task-card:hover::before {
            opacity: 1;
        }

        .task-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .task-card.day-sun {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8e72 100%);
        }

        .task-card.day-mon {
            background: linear-gradient(135deg, #3498db 0%, #5dade2 100%);
        }

        .task-card.day-tue {
            background: linear-gradient(135deg, #9b59b6 0%, #b86bb6 100%);
        }

        .task-card.day-wed {
            background: linear-gradient(135deg, #2ecc71 0%, #58d68d 100%);
        }

        .task-card.day-thu {
            background: linear-gradient(135deg, #f1c40f 0%, #f4d03f 100%);
        }

        .task-card.day-fri {
            background: linear-gradient(135deg, #e67e22 0%, #f39c12 100%);
        }

        .task-card.day-sat {
            background: linear-gradient(135deg, #1abc9c 0%, #48d9cc 100%);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }

        .task-time {
            display: inline-block;
            background: rgba(255, 255, 255, 0.25);
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
        }

        .task-title {
            font-size: 13px;
            font-weight: 700;
            margin-bottom: 4px;
            position: relative;
            z-index: 1;
            word-break: break-word;
            line-height: 1.2;
        }

        .task-description {
            font-size: 11px;
            opacity: 0.8;
            position: relative;
            z-index: 1;
            word-break: break-word;
            line-height: 1.2;
        }

        .task-actions {
            display: flex;
            gap: 6px;
            margin-top: 8px;
            position: relative;
            z-index: 1;
        }

        .task-actions button {
            padding: 4px 8px;
            font-size: 10px;
            background: rgba(255, 255, 255, 0.25);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            flex: 1;
        }

        .task-actions button:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        .task-completed {
            opacity: 0.5;
        }

        .task-completed .task-title {
            text-decoration: line-through;
        }

        .view-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            padding: 0 10px;
        }

        .view-tabs button {
            padding: 10px 20px;
            background: transparent;
            color: #8f9cae;
            border: 2px solid #333;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .view-tabs button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .view-tabs button:hover:not(.active) {
            border-color: #667eea;
        }

        .all-tasks-view {
            display: none;
            padding: 20px;
        }

        .all-tasks-view.active {
            display: block;
        }

        .all-tasks-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .all-task-item {
            padding: 14px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #333;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .all-task-item:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: #0099ff;
        }

        .all-task-item.completed {
            opacity: 0.5;
        }

        .all-task-item.completed .all-task-title {
            text-decoration: line-through;
            color: #8f9cae;
        }

        .all-task-content {
            flex: 1;
            min-width: 0;
        }

        .all-task-title {
            font-size: 14px;
            font-weight: 600;
            color: white;
            margin-bottom: 4px;
        }

        .all-task-meta {
            font-size: 12px;
            color: #8f9cae;
        }

        .all-task-actions {
            display: flex;
            gap: 8px;
            margin-left: 12px;
        }

        .all-task-actions button {
            padding: 6px 12px;
            font-size: 12px;
            background: rgba(102, 126, 234, 0.2);
            color: #0099ff;
            border: 1px solid rgba(0, 153, 255, 0.3);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .all-task-actions button:hover {
            background: rgba(102, 126, 234, 0.4);
            border-color: #0099ff;
        }

        .footer-info {
            position: fixed;
            bottom: 20px;
            left: 20px;
            font-size: 12px;
            color: #666666;
            opacity: 0.6;
            transition: opacity 0.3s;
            z-index: 50;
        }

        .footer-info:hover {
            opacity: 1;
        }

        .footer-info-name {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .footer-info-id {
            font-size: 11px;
            color: #667eea;
        }

        .input-section {
            display: flex;
            gap: 12px;
            margin-bottom: 30px;
            padding: 0 20px;
            flex-wrap: wrap;
        }

        .input-group {
            flex: 1;
            min-width: 200px;
        }

        input[type="text"], input[type="date"], input[type="time"] {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d0d0d0;
            border-radius: 6px;
            font-size: 13px;
            background: white;
            color: #333333;
            transition: all 0.3s;
        }

        input[type="text"]:focus, input[type="date"]:focus, input[type="time"]:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        input::placeholder {
            color: #999999;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 100;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(4px);
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 420px;
            width: 100%;
            padding: 0;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            border: 1px solid #e0e0e0;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 16px;
            font-weight: 700;
            color: #1a1a1a;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #999999;
            padding: 0;
            width: 28px;
            height: 28px;
            transition: color 0.2s;
        }

        .close-btn:hover {
            color: #333333;
        }

        .modal-body {
            padding: 20px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .modal-body .form-group {
            margin-bottom: 16px;
        }

        .modal-body label {
            display: block;
            margin-bottom: 6px;
            color: #1a1a1a;
            font-weight: 600;
            font-size: 12px;
        }

        .modal-body input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d0d0d0;
            border-radius: 6px;
            font-size: 13px;
            background: #f9f9f9;
            color: #333333;
            transition: all 0.3s;
        }

        .modal-body input:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .modal-footer {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            padding: 16px 20px;
            border-top: 1px solid #e0e0e0;
        }

        .modal-footer button {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 12px;
            transition: all 0.3s;
        }

        .btn-save {
            background: linear-gradient(135deg, #0099ff 0%, #00ccff 100%);
            color: white;
        }

        .btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 153, 255, 0.3);
        }

        .btn-cancel {
            background: #333;
            color: #e0e0e0;
        }

        .btn-cancel:hover {
            background: #444;
        }

        .error-message, .success-message {
            padding: 12px 16px;
            border-radius: 6px;
            margin: 0 10px 16px 10px;
            font-size: 12px;
            animation: slideDown 0.3s ease;
        }

        .error-message {
            background: rgba(255, 107, 107, 0.15);
            color: #ff6b6b;
            border-left: 3px solid #ff6b6b;
            display: none;
        }

        .success-message {
            background: rgba(92, 184, 92, 0.15);
            color: #5cb85c;
            border-left: 3px solid #5cb85c;
            display: none;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .empty-state {
            text-align: center;
            padding: 20px 10px;
            color: #8f9cae;
            font-size: 12px;
        }

        .empty-state-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .empty-state p {
            font-size: 12px;
        }

        .view-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            padding: 0 10px;
        }

        .view-tabs button {
            padding: 10px 20px;
            background: transparent;
            color: #8f9cae;
            border: 2px solid #333;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .view-tabs button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .view-tabs button:hover:not(.active) {
            border-color: #667eea;
        }

        .all-tasks-view {
            display: none;
            padding: 20px;
        }

        .all-tasks-view.active {
            display: block;
        }

        .all-tasks-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .all-task-item {
            padding: 14px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #333;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .all-task-item:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: #0099ff;
        }

        .all-task-item.completed {
            opacity: 0.5;
        }

        .all-task-item.completed .all-task-title {
            text-decoration: line-through;
            color: #8f9cae;
        }

        .all-task-content {
            flex: 1;
            min-width: 0;
        }

        .all-task-title {
            font-size: 14px;
            font-weight: 600;
            color: white;
            margin-bottom: 4px;
        }

        .all-task-meta {
            font-size: 12px;
            color: #8f9cae;
        }

        .all-task-actions {
            display: flex;
            gap: 8px;
            margin-left: 12px;
        }

        .all-task-actions button {
            padding: 6px 12px;
            font-size: 12px;
            background: rgba(102, 126, 234, 0.2);
            color: #0099ff;
            border: 1px solid rgba(0, 153, 255, 0.3);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .all-task-actions button:hover {
            background: rgba(102, 126, 234, 0.4);
            border-color: #0099ff;
        }

        @media (max-width: 900px) {
            .days-header {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
                gap: 12px;
            }

            .day-column {
                min-height: 400px;
            }

            .task-card {
                min-height: 70px;
                padding: 12px;
            }

            .task-title {
                font-size: 12px;
            }

            .task-description {
                font-size: 10px;
            }
        }

        @media (max-width: 600px) {
            .header {
                flex-direction: column;
                gap: 12px;
                text-align: center;
            }

            .header h1 {
                font-size: 24px;
            }

            .days-header {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .day-column {
                min-height: 300px;
            }

            .task-card {
                min-height: 60px;
                padding: 10px;
            }

            .task-title {
                font-size: 11px;
            }

            .task-description {
                font-size: 9px;
            }

            .task-time {
                font-size: 9px;
                padding: 2px 6px;
            }

            .task-actions {
                gap: 4px;
            }

            .task-actions button {
                font-size: 9px;
                padding: 3px 6px;
            }

            .modal-content {
                max-width: 90%;
            }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fb;
            border-bottom: 1px solid #e8ecf1;
        }

        .stat-card {
            background: white;
            padding: 24px;
            border-radius: 10px;
            box-shadow: 0 2px 12px rgba(102, 126, 234, 0.08);
            border: 1px solid #e8ecf1;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.15);
        }

        .stat-card.completed {
            border-left: 4px solid #5cb85c;
        }

        .stat-card.pending {
            border-left: 4px solid #f0ad4e;
        }

        .stat-card.total {
            border-left: 4px solid #667eea;
        }

        .stat-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .stat-label {
            color: #7f8fa3;
            font-size: 12px;
            text-transform: uppercase;
            font-weight: 600;
            margin-bottom: 10px;
            letter-spacing: 0.5px;
        }

        .stat-number {
            font-size: 36px;
            font-weight: 700;
            color: #2c3e50;
        }

        .progress-section {
            padding: 30px;
            background: white;
            border-bottom: 1px solid #e8ecf1;
        }

        .progress-title {
            color: #2c3e50;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e8ecf1;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            color: white;
            font-weight: 600;
            font-size: 11px;
            padding-right: 8px;
        }

        .container {
            background: white;
            padding: 30px;
        }

        h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 700;
        }

        .input-section {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .input-group {
            flex: 1;
            min-width: 180px;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 14px;
            border: 1px solid #d5dce3;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
            background: #f8f9fb;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .view-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }

        .view-toggle button {
            flex: 1;
            background: #e8ecf1;
            color: #7f8fa3;
        }

        .view-toggle button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .tasks-section {
            margin-bottom: 20px;
        }

        .tasks-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e8ecf1;
        }

        .tasks-header h2 {
            margin: 0;
            font-size: 16px;
            font-weight: 700;
        }

        .task-count {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .task-list {
            list-style: none;
        }

        .task-item {
            background: white;
            padding: 16px;
            margin-bottom: 12px;
            border-radius: 10px;
            display: flex;
            gap: 12px;
            align-items: flex-start;
            transition: all 0.3s ease;
            border: 1px solid #e8ecf1;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.05);
        }

        .task-item:hover {
            background: #f8f9fb;
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.12);
            border-color: #667eea;
        }

        .task-item.completed {
            background: #f0f4ff;
            opacity: 0.7;
        }

        .task-item.completed .task-title {
            text-decoration: line-through;
            color: #b0b8c5;
        }

        .task-checkbox {
            width: 20px;
            height: 20px;
            min-width: 20px;
            cursor: pointer;
            margin-top: 2px;
            accent-color: #667eea;
        }

        .task-content {
            flex: 1;
            min-width: 0;
        }

        .task-title {
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 4px;
            word-break: break-word;
            font-size: 15px;
        }

        .task-description {
            color: #7f8fa3;
            font-size: 13px;
            word-break: break-word;
        }

        .task-actions {
            display: flex;
            gap: 8px;
        }

        .task-actions button {
            padding: 8px 12px;
            font-size: 12px;
            background: #e8ecf1;
            color: #7f8fa3;
            border: none;
            margin: 0;
            border-radius: 6px;
        }

        .task-actions button:hover {
            background: #d5dce3;
            transform: none;
            box-shadow: none;
        }

        .btn-delete {
            background: #ff6b6b !important;
            color: white !important;
        }

        .btn-delete:hover {
            background: #ee5a52 !important;
        }

        .btn-archive {
            background: #f0ad4e !important;
            color: white !important;
        }

        .btn-archive:hover {
            background: #ec971f !important;
        }

        .btn-restore {
            background: #5cb85c !important;
            color: white !important;
        }

        .btn-restore:hover {
            background: #449d44 !important;
        }

        .btn-edit {
            background: #667eea !important;
            color: white !important;
        }

        .btn-edit:hover {
            background: #5568d3 !important;
        }

        .empty-state {
            text-align: center;
            padding: 50px 20px;
            color: #7f8fa3;
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .empty-state p {
            font-size: 15px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(44, 62, 80, 0.4);
            z-index: 100;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(2px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 480px;
            width: 90%;
            padding: 0;
            box-shadow: 0 20px 60px rgba(44, 62, 80, 0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 28px;
            border-bottom: 1px solid #e8ecf1;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 18px;
            font-weight: 700;
            color: #2c3e50;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #b0b8c5;
            padding: 0;
            width: 30px;
            height: 30px;
            transition: color 0.2s;
        }

        .close-btn:hover {
            color: #2c3e50;
        }

        .modal-body {
            padding: 24px 28px;
        }

        .modal-body .form-group {
            margin-bottom: 20px;
        }

        .modal-body label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
            font-size: 13px;
        }

        .modal-body input, .modal-body textarea {
            width: 100%;
            padding: 12px 14px;
            border: 1px solid #d5dce3;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
            background: #f8f9fb;
        }

        .modal-body textarea {
            resize: vertical;
            font-family: monospace;
            min-height: 180px;
        }

        .modal-body input:focus, .modal-body textarea:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .modal-footer {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            padding: 20px 28px;
            border-top: 1px solid #e8ecf1;
        }

        .modal-footer button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
        }

        .btn-save {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-cancel {
            background: #e8ecf1;
            color: #7f8fa3;
        }

        .btn-cancel:hover {
            background: #d5dce3;
        }

        .error-message, .success-message {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            animation: slideDown 0.3s ease;
        }

        .error-message {
            background: #ffebee;
            color: #c62828;
            display: none;
            border-left: 4px solid #c62828;
        }

        .success-message {
            background: #e8f5e9;
            color: #2e7d32;
            display: none;
            border-left: 4px solid #2e7d32;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #667eea;
            font-size: 14px;
        }

        footer {
            padding: 20px;
            text-align: center;
            color: #b0b8c5;
            font-size: 12px;
        }

        @media (max-width: 600px) {
            .dashboard-header {
                padding: 30px 20px;
            }

            .dashboard-header h1 {
                font-size: 24px;
            }

            .stats-grid {
                padding: 20px;
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .container {
                padding: 20px;
            }

            .input-section {
                flex-direction: column;
            }

            .task-item {
                flex-direction: column;
            }

            .task-actions {
                width: 100%;
                justify-content: space-between;
            }
        }
    </style>
</head>
<body>
    <div class="content">
        <div class="header">
            <h1>ðŸ“… Daily Tasks</h1>
            <div class="header-actions">
                <button class="btn-add" onclick="toggleAddModal()">+ Add Task</button>
            </div>
        </div>

        <div class="error-message" id="errorMessage"></div>
        <div class="success-message" id="successMessage"></div>

        <div class="view-tabs">
            <button class="tab-btn active" onclick="switchView('daily')">ðŸ“… Daily View</button>
            <button class="tab-btn" onclick="switchView('all')">ðŸ“‹ All Tasks</button>
        </div>

        <div class="daily-view" id="dailyView">
            <div class="days-header" id="daysContainer">
                <!-- Days will be populated by JavaScript -->
            </div>
        </div>

        <div class="all-tasks-view" id="allTasksView">
            <div class="all-tasks-list" id="allTasksList">
                <!-- All tasks will be populated by JavaScript -->
            </div>
        </div>

        <div class="footer-info">
            <div class="footer-info-name">Ahmed Abdulameer</div>
            <div class="footer-info-id">NV23005</div>
        </div>
    </div>

    <!-- Add Task Modal -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Task</h2>
                <button class="close-btn" onclick="closeAddModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="taskTitle">Task Title</label>
                    <input type="text" id="taskTitle" placeholder="What needs to be done?">
                </div>
                <div class="form-group">
                    <label for="taskDescription">Description (optional)</label>
                    <input type="text" id="taskDescription" placeholder="Add details...">
                </div>
                <div class="form-group">
                    <label for="taskDate">Date</label>
                    <input type="date" id="taskDate">
                </div>
                <div class="form-group">
                    <label for="taskTime">Time (optional)</label>
                    <input type="time" id="taskTime">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeAddModal()">Cancel</button>
                <button class="btn-save" onclick="addTask()">Add Task</button>
            </div>
        </div>
    </div>

    <!-- Edit Task Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Task</h2>
                <button class="close-btn" onclick="closeEditModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="editTaskTitle">Task Title</label>
                    <input type="text" id="editTaskTitle" placeholder="Enter task title">
                </div>
                <div class="form-group">
                    <label for="editTaskDescription">Description</label>
                    <input type="text" id="editTaskDescription" placeholder="Enter task description">
                </div>
                <div class="form-group">
                    <label for="editTaskDate">Date</label>
                    <input type="date" id="editTaskDate">
                </div>
                <div class="form-group">
                    <label for="editTaskTime">Time (optional)</label>
                    <input type="time" id="editTaskTime">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeEditModal()">Cancel</button>
                <button class="btn-save" onclick="saveEditTask()">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Edit Task Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Task</h2>
                <button class="close-btn" onclick="closeEditModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="editTaskTitle">Task Title</label>
                    <input type="text" id="editTaskTitle" placeholder="Enter task title">
                </div>
                <div class="form-group">
                    <label for="editTaskDescription">Description</label>
                    <input type="text" id="editTaskDescription" placeholder="Enter task description (optional)">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeEditModal()">Cancel</button>
                <button class="btn-save" onclick="saveEditTask()">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Bulk Add Modal -->
    <div id="bulkAddModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Bulk Add Tasks</h2>
                <button class="close-btn" onclick="toggleBulkAddModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p style="color: #666; margin-bottom: 10px; font-size: 13px;">Enter one task per line. Format: Task Title | Description (optional)</p>
                <textarea id="bulkAddText" placeholder="Learn Python&#10;Fix bug in login&#10;Review code | Code review for PR #123&#10;Update documentation" style="width: 100%; height: 200px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 5px; font-family: monospace; font-size: 13px;"></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="toggleBulkAddModal()">Cancel</button>
                <button class="btn-save" onclick="bulkAddTasks()">Add All Tasks</button>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = '';
        let currentEditTaskId = null;
        let currentView = 'daily';
        const gradients = ['gradient-1', 'gradient-2', 'gradient-3', 'gradient-4', 'gradient-5', 'gradient-6'];
        const dayColors = ['day-sun', 'day-mon', 'day-tue', 'day-wed', 'day-thu', 'day-fri', 'day-sat'];

        // Get next 7 days
        function getNextDays(count = 7) {
            const days = [];
            for (let i = 0; i < count; i++) {
                const date = new Date();
                date.setDate(date.getDate() + i);
                days.push(date);
            }
            return days;
        }

        // Format date to YYYY-MM-DD
        function formatDate(date) {
            return date.toISOString().split('T')[0];
        }

        // Get day name
        function getDayName(date) {
            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            return days[date.getDay()];
        }

        // Switch between views
        function switchView(view) {
            currentView = view;
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            const dailyView = document.getElementById('dailyView');
            const allTasksView = document.getElementById('allTasksView');

            if (view === 'daily') {
                dailyView.style.display = 'block';
                allTasksView.classList.remove('active');
            } else {
                dailyView.style.display = 'none';
                allTasksView.classList.add('active');
            }
        }

        // Load and display tasks by day
        async function loadTasks() {
            try {
                const response = await fetch(`${API_BASE}/tasks`);
                if (!response.ok) throw new Error('Failed to load tasks');
                
                const tasks = await response.json();
                displayDailyView(tasks);
                displayAllTasks(tasks);
            } catch (error) {
                showError('Failed to load tasks: ' + error.message);
                console.error('Error:', error);
            }
        }

        // Display all tasks
        function displayAllTasks(tasks) {
            const container = document.getElementById('allTasksList');
            const activeTasks = tasks.filter(t => !t.archived).sort((a, b) => {
                if (a.date !== b.date) {
                    return new Date(a.date) - new Date(b.date);
                }
                return (a.time || '00:00').localeCompare(b.time || '00:00');
            });

            if (activeTasks.length === 0) {
                container.innerHTML = '<div style="text-align: center; color: #8f9cae; padding: 40px;">No tasks yet. Add one to get started! ðŸš€</div>';
                return;
            }

            let html = activeTasks.map(task => `
                <div class="all-task-item ${task.completed ? 'completed' : ''}">
                    <div class="all-task-content">
                        <div class="all-task-title">${escapeHtml(task.title)}</div>
                        <div class="all-task-meta">${task.date} ${task.time || '00:00'} ${task.description ? 'â€¢ ' + escapeHtml(task.description) : ''}</div>
                    </div>
                    <div class="all-task-actions">
                        <button onclick="toggleTaskComplete(${task.id}, ${!task.completed})" title="${task.completed ? 'Mark incomplete' : 'Mark complete'}">âœ“</button>
                        <button onclick="openEditModal(${task.id}, '${escapeHtml(task.title).replace(/'/g, "\\'") }', '${task.description ? escapeHtml(task.description).replace(/'/g, "\\") : ''}', '${task.date || ''}', '${task.time || ''}' )">Edit</button>
                        <button onclick="deleteTask(${task.id})">âœ•</button>
                    </div>
                </div>
            `).join('');

            container.innerHTML = html;
        }

        // Display daily view
        function displayDailyView(tasks) {
            const container = document.getElementById('daysContainer');
            const days = getNextDays(7);
            
            let html = '';
            days.forEach((day, dayIndex) => {
                const dayString = formatDate(day);
                const dayTasks = tasks.filter(t => {
                    const taskDate = t.date || dayString;
                    return taskDate === dayString && !t.archived;
                });

                const dayName = getDayName(day);
                const dayNumber = day.getDate();
                const dayColor = dayColors[day.getDay()];

                html += `
                    <div class="day-column">
                        <div class="day-header ${dayColor}">
                            <div class="day-name">${dayName}</div>
                            <div class="day-date">${dayNumber}</div>
                        </div>
                        <div class="tasks-container">
                            ${dayTasks.length === 0 ? '<div class="empty-state"><p>-</p></div>' : ''}
                            ${dayTasks.map((task, idx) => `
                                <div class="task-card ${dayColor} ${task.completed ? 'task-completed' : ''}">
                                    <div class="task-header">
                                        <span class="task-time">${task.time || '00:00'}</span>
                                    </div>
                                    <div>
                                        <div class="task-title">${escapeHtml(task.title)}</div>
                                        ${task.description ? `<div class="task-description">${escapeHtml(task.description)}</div>` : ''}
                                    </div>
                                    <div class="task-actions">
                                        <button onclick="toggleTaskComplete(${task.id}, ${!task.completed})" title="${task.completed ? 'Mark incomplete' : 'Mark complete'}">âœ“</button>
                                        <button onclick="openEditModal(${task.id}, '${escapeHtml(task.title).replace(/'/g, "\\'")}', '${task.description ? escapeHtml(task.description).replace(/'/g, "\\'") : ''}', '${task.date || ''}', '${task.time || ''}')">Edit</button>
                                        <button onclick="deleteTask(${task.id})">âœ•</button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // Toggle add modal
        function toggleAddModal() {
            const modal = document.getElementById('addModal');
            if (!modal.classList.contains('active')) {
                const today = new Date();
                document.getElementById('taskDate').valueAsDate = today;
            }
            modal.classList.toggle('active');
        }

        function closeAddModal() {
            document.getElementById('addModal').classList.remove('active');
        }

        // Add new task
        async function addTask() {
            const title = document.getElementById('taskTitle').value.trim();
            const description = document.getElementById('taskDescription').value.trim();
            const date = document.getElementById('taskDate').value;
            const time = document.getElementById('taskTime').value || '00:00';

            if (!title) {
                showError('Please enter a task title');
                return;
            }

            if (!date) {
                showError('Please select a date');
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/tasks`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        title,
                        description,
                        date,
                        time,
                        completed: false,
                        archived: false
                    })
                });

                if (!response.ok) throw new Error('Failed to add task');

                document.getElementById('taskTitle').value = '';
                document.getElementById('taskDescription').value = '';
                document.getElementById('taskDate').value = '';
                document.getElementById('taskTime').value = '';
                closeAddModal();
                showSuccess('Task added successfully!');
                await loadTasks();
            } catch (error) {
                showError('Failed to add task: ' + error.message);
            }
        }

        // Open edit modal
        function openEditModal(taskId, title, description, date, time) {
            currentEditTaskId = taskId;
            document.getElementById('editTaskTitle').value = title;
            document.getElementById('editTaskDescription').value = description;
            document.getElementById('editTaskDate').value = date;
            document.getElementById('editTaskTime').value = time;
            document.getElementById('editModal').classList.add('active');
        }

        // Close edit modal
        function closeEditModal() {
            document.getElementById('editModal').classList.remove('active');
            currentEditTaskId = null;
        }

        // Save edited task
        async function saveEditTask() {
            if (!currentEditTaskId) return;

            const title = document.getElementById('editTaskTitle').value.trim();
            const description = document.getElementById('editTaskDescription').value.trim();
            const date = document.getElementById('editTaskDate').value;
            const time = document.getElementById('editTaskTime').value || '00:00';

            if (!title) {
                showError('Please enter a task title');
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/tasks/${currentEditTaskId}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        title,
                        description,
                        date,
                        time
                    })
                });

                if (!response.ok) throw new Error('Failed to update task');

                closeEditModal();
                showSuccess('Task updated successfully!');
                await loadTasks();
            } catch (error) {
                showError('Failed to update task: ' + error.message);
            }
        }

        // Toggle task completion
        async function toggleTaskComplete(taskId, completed) {
            try {
                const response = await fetch(`${API_BASE}/tasks/${taskId}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ completed })
                });

                if (!response.ok) throw new Error('Failed to update task');
                await loadTasks();
            } catch (error) {
                showError('Failed to update task');
            }
        }

        // Delete task
        async function deleteTask(taskId) {
            if (!confirm('Delete this task?')) return;

            try {
                const response = await fetch(`${API_BASE}/tasks/${taskId}`, {
                    method: 'DELETE'
                });

                if (!response.ok) throw new Error('Failed to delete task');
                showSuccess('Task deleted!');
                await loadTasks();
            } catch (error) {
                showError('Failed to delete task');
            }
        }

        // Escape HTML
        function escapeHtml(text) {
            const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' };
            return text.replace(/[&<>"']/g, m => map[m]);
        }

        // Show error message
        function showError(message) {
            const el = document.getElementById('errorMessage');
            el.textContent = message;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 5000);
        }

        // Show success message
        function showSuccess(message) {
            const el = document.getElementById('successMessage');
            el.textContent = message;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 3000);
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.id === 'addModal') closeAddModal();
            if (event.target.id === 'editModal') closeEditModal();
        }

        // Initialize
        loadTasks();
        setInterval(loadTasks, 10000);
    </script>
</body>
</html>
